{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const searchList = document.querySelector('.search-list');\n\nexport default function searchImages(search) {\n  const searchParams = new URLSearchParams({\n    key: '38293986-7ee0e252210be96ee05c3f9f8',\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n    page: 1,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","export default function createGalleryCards(images) {\n  return images\n    .map(image => {\n      const {\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n      return `\n    <div class=\"card\">\n  <a class='card_link' href='${largeImageURL}'><img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n  <div class=\"info\">\n    <p class=\"info_item\">\n      <b>Likes</b>\n      <b>${likes}</b>\n    </p>\n    <p class=\"info_item\">\n      <b>Views</b>\n      <b>${views}</b>\n    </p>\n    <p class=\"info_item\">\n      <b>Comments</b>\n      <b>${comments}</b>\n    </p>\n    <p class=\"info_item\">\n      <b>Downloads</b>\n      <b>${downloads}</b>\n    </p>\n  </div>\n</div>`;\n    })\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport searchImages from './js/pixabay-api';\nimport createGalleryCards from './js/render-functions';\n\nconst searchList = document.querySelector('.search-list');\nconst fetchSearchBtn = document.querySelector('.btn');\nconst inputSearch = document.querySelector('.search-input');\n\nlet search = '';\nlet lightbox;\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\ninputSearch.addEventListener('input', event => {\n  search = event.currentTarget.value;\n});\n\nfetchSearchBtn.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (!search) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please fill out search field',\n    });\n    return;\n  }\n\n  searchList.innerHTML = '';\n\n  showLoader();\n\n  searchImages(search)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        searchList.innerHTML = '';\n        return;\n      }\n\n      const galleryMarkup = createGalleryCards(images.hits);\n      searchList.insertAdjacentHTML('beforeend', galleryMarkup);\n\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.search-list a', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n      } else {\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images',\n      });\n      console.error('Error fetching images:', error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["searchImages","search","searchParams","response","error","createGalleryCards","images","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","searchList","fetchSearchBtn","inputSearch","lightbox","showLoader","loader","hideLoader","event","iziToast","galleryMarkup","SimpleLightbox"],"mappings":"6vBAAmB,SAAS,cAAc,cAAc,EAEzC,SAASA,EAAaC,EAAQ,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACV,KAAM,CACV,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACpD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCxBe,SAASC,EAAmBC,EAAQ,CACjD,OAAOA,EACJ,IAAIC,GAAS,CACZ,KAAM,CACJ,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,+BAEkBC,CAAa,eAAeC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,WAI1EC,CAAK;AAAA;AAAA;AAAA;AAAA,WAILC,CAAK;AAAA;AAAA;AAAA;AAAA,WAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,WAIRC,CAAS;AAAA;AAAA;AAAA,OAIpB,CAAK,EACA,KAAK,EAAE,CACZ,CC5BA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAiB,SAAS,cAAc,MAAM,EAC9CC,EAAc,SAAS,cAAc,eAAe,EAE1D,IAAIhB,EAAS,GACTiB,EAEJ,SAASC,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEAH,EAAY,iBAAiB,QAASK,GAAS,CAC7CrB,EAASqB,EAAM,cAAc,KAC/B,CAAC,EAEDN,EAAe,iBAAiB,QAASM,GAAS,CAGhD,GAFAA,EAAM,eAAc,EAEhB,CAACrB,EAAQ,CACXsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDR,EAAW,UAAY,GAEvBI,IAEAnB,EAAaC,CAAM,EAChB,KAAKK,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BiB,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACDR,EAAW,UAAY,GACvB,MACD,CAED,MAAMS,EAAgBnB,EAAmBC,EAAO,IAAI,EACpDS,EAAW,mBAAmB,YAAaS,CAAa,EAEnDN,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIO,EAAe,iBAAkB,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,CAIT,CAAK,EACA,MAAMrB,GAAS,CACdmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wBACjB,CAAO,EACD,QAAQ,MAAM,yBAA0BnB,CAAK,CACnD,CAAK,EACA,QAAQ,IAAM,CACbiB,GACN,CAAK,CACL,CAAC"}